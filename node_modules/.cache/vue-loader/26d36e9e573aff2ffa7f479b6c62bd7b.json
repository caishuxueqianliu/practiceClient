{"remainingRequest":"/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Documents/mac备份/client/src/views/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Documents/mac备份/client/src/views/Chat.vue","mtime":1596802838147},{"path":"/Users/admin/Documents/mac备份/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0KCJ3czovLzEyNy4wLjAuMTozMDAwL3dlYnNvY2tldC90ZXN0IikKCWV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2hhdCcsCiAgZGF0YSgpewogIHJldHVybnsKICAgLy8gdGltZToiIiwKICBsaXN0OltdLAogICBkYXRhOiIiCiAgfQogIH0sCiAgY29tcG9uZW50czogewogICAKICB9LAogICBjcmVhdGVkKCl7CgogICAgfSwKICAgbW91bnRlZCgpewogdGhpcy53c0Nvbm5lY3QoKTsgCiAgICB9LAogICAgbWV0aG9kczp7CiAgICB3c0Nvbm5lY3QoKXsKCi8vIOWIm+W7uuS4gOS4qndlYlNvY2tldOWvueixoQoKd3Mub25vcGVuID0oKT0+IHsKICAvLyDov57mjqXlkI7nm5HlkKwKICBjb25zb2xlLmxvZygnV2ViU29ja2V0IOi/nuaOpeeKtuaAgeaIkOWKnycpOwp9Cgp3cy5vbm1lc3NhZ2U9KGRhdGEpPT57CiAgLy9jb25zb2xlLmxvZyhkYXRhLmRhdGEpCiAgLy8g5b2T5pyN5Yqh56uv6L+U5Zue5pWw5o2u55qE5pe25YCZ77yM5pS+5Yiw6aG16Z2i6YeMCi8vIHZhciB4eD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjZWl2ZS1ib3gnKTsKLy8geHguaW5uZXJIVE1MICs9IGA8cD4ke2RhdGEuZGF0YX08L3A+YAovLyAgIHh4LnNjcm9sbFRvKHsKLy8gICAgIHRvcDogeHguc2Nyb2xsSGVpZ2h0LAovLyAgICAgYmVoYXZpb3I6ICJzbW9vdGgiCi8vICAgfSkKCiAgdGhpcy5saXN0LnB1c2goZGF0YS5kYXRhKTsKICAgICAgCn0KCndzLm9uY2xvc2UgPSBkYXRhID0+IHsKICAvLyDnm5HlkKzov57mjqXlhbPpl60KICBjb25zb2xlLmxvZygiV2ViU29ja2V06L+e5o6l5bey5YWz6ZetIikKICBjb25zb2xlLmxvZyhkYXRhKTsKfQoKLy8gc2VuZEJ0bi5vbmNsaWNrID0gKCkgPT4gewovLyAgIC8vIOeCueWHu+WPkemAgeaMiemSruOAguWwhuaVsOaNruWPkemAgee7meacjeWKoeerrwovLyAgIHdzLnNlbmQoKQovLyB9Ci8vIGV4aXQub25jbGljayA9ICgpID0+IHsKLy8gICAvLyDlrqLmiLfnq6/kuLvliqjlhbPpl63ov57mjqUKLy8gICB3cy5jbG9zZSgpCi8vIH0KCgoKCiAgICB9LAogICAgc2VuZCgpewogICAgICB3cy5zZW5kKHRoaXMuZGF0YSk7CiAgICB9LAogICAgdGVzdCgpewogICAgICB0aGlzLm1zZz0nMTIzMzMzJwogICAgfQogICAgCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgfSwKICAgIGNvbXB1dGVkOnsKICAgIH0KfQoKCgoK"},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"chat\">\n\n\n\n<div class=\"websocket\">\n    <div class=\"receive\">\n      <p>简单聊天</p>\n      <div id=\"receive-box\"  v-for=\"(item,i) in list\" v-bind:key=\"i\">{{item}}</div>\n    </div>\n    <div class=\"send\">\n      <textarea type=\"text\" id=\"msg-need-send\" v-model=\"data\"></textarea>\n      <p>\n        <button id=\"send-btn\" @click='send()'>点击消息</button>\n      </p>\n    </div>\n  <!--   <button id=\"exit\" @click='test()'>关闭连接</button> -->\n  </div>\n\n\n\n  </div>\n</template>\n\n<script>\n  const ws = new WebSocket(\"ws://127.0.0.1:3000/websocket/test\")\n\texport default {\n  name: 'Chat',\n  data(){\n  return{\n   // time:\"\",\n  list:[],\n   data:\"\"\n  }\n  },\n  components: {\n   \n  },\n   created(){\n\n    },\n   mounted(){\n this.wsConnect(); \n    },\n    methods:{\n    wsConnect(){\n\n// 创建一个webSocket对象\n\nws.onopen =()=> {\n  // 连接后监听\n  console.log('WebSocket 连接状态成功');\n}\n\nws.onmessage=(data)=>{\n  //console.log(data.data)\n  // 当服务端返回数据的时候，放到页面里\n// var xx=document.getElementById('receive-box');\n// xx.innerHTML += `<p>${data.data}</p>`\n//   xx.scrollTo({\n//     top: xx.scrollHeight,\n//     behavior: \"smooth\"\n//   })\n\n  this.list.push(data.data);\n      \n}\n\nws.onclose = data => {\n  // 监听连接关闭\n  console.log(\"WebSocket连接已关闭\")\n  console.log(data);\n}\n\n// sendBtn.onclick = () => {\n//   // 点击发送按钮。将数据发送给服务端\n//   ws.send()\n// }\n// exit.onclick = () => {\n//   // 客户端主动关闭连接\n//   ws.close()\n// }\n\n\n\n\n    },\n    send(){\n      ws.send(this.data);\n    },\n    test(){\n      this.msg='123333'\n    }\n    \n    },\n    watch:{\n       },\n    computed:{\n    }\n}\n\n\n\n\n</script>\n\n\n<style type=\"text/css\">\n  #receive-box{\n    height: 20px;\n    width: 100px;\n    display: flex;\n\n    border: 1px solid black;\n    margin: 5px;\n  }\n#msg-need-send{\n  margin: 20px;\n  width: 300px;\n}\n\n</style>"]}]}