{"remainingRequest":"/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Documents/mac备份/client/src/views/Chat.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/admin/Documents/mac备份/client/src/views/Chat.vue","mtime":1596802838147},{"path":"/Users/admin/Documents/mac备份/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAjcmVjZWl2ZS1ib3h7CiAgICBoZWlnaHQ6IDIwcHg7CiAgICB3aWR0aDogMTAwcHg7CiAgICBkaXNwbGF5OiBmbGV4OwoKICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOwogICAgbWFyZ2luOiA1cHg7CiAgfQojbXNnLW5lZWQtc2VuZHsKICBtYXJnaW46IDIwcHg7CiAgd2lkdGg6IDMwMHB4Owp9Cgo="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"chat\">\n\n\n\n<div class=\"websocket\">\n    <div class=\"receive\">\n      <p>简单聊天</p>\n      <div id=\"receive-box\"  v-for=\"(item,i) in list\" v-bind:key=\"i\">{{item}}</div>\n    </div>\n    <div class=\"send\">\n      <textarea type=\"text\" id=\"msg-need-send\" v-model=\"data\"></textarea>\n      <p>\n        <button id=\"send-btn\" @click='send()'>点击消息</button>\n      </p>\n    </div>\n  <!--   <button id=\"exit\" @click='test()'>关闭连接</button> -->\n  </div>\n\n\n\n  </div>\n</template>\n\n<script>\n  const ws = new WebSocket(\"ws://127.0.0.1:3000/websocket/test\")\n\texport default {\n  name: 'Chat',\n  data(){\n  return{\n   // time:\"\",\n  list:[],\n   data:\"\"\n  }\n  },\n  components: {\n   \n  },\n   created(){\n\n    },\n   mounted(){\n this.wsConnect(); \n    },\n    methods:{\n    wsConnect(){\n\n// 创建一个webSocket对象\n\nws.onopen =()=> {\n  // 连接后监听\n  console.log('WebSocket 连接状态成功');\n}\n\nws.onmessage=(data)=>{\n  //console.log(data.data)\n  // 当服务端返回数据的时候，放到页面里\n// var xx=document.getElementById('receive-box');\n// xx.innerHTML += `<p>${data.data}</p>`\n//   xx.scrollTo({\n//     top: xx.scrollHeight,\n//     behavior: \"smooth\"\n//   })\n\n  this.list.push(data.data);\n      \n}\n\nws.onclose = data => {\n  // 监听连接关闭\n  console.log(\"WebSocket连接已关闭\")\n  console.log(data);\n}\n\n// sendBtn.onclick = () => {\n//   // 点击发送按钮。将数据发送给服务端\n//   ws.send()\n// }\n// exit.onclick = () => {\n//   // 客户端主动关闭连接\n//   ws.close()\n// }\n\n\n\n\n    },\n    send(){\n      ws.send(this.data);\n    },\n    test(){\n      this.msg='123333'\n    }\n    \n    },\n    watch:{\n       },\n    computed:{\n    }\n}\n\n\n\n\n</script>\n\n\n<style type=\"text/css\">\n  #receive-box{\n    height: 20px;\n    width: 100px;\n    display: flex;\n\n    border: 1px solid black;\n    margin: 5px;\n  }\n#msg-need-send{\n  margin: 20px;\n  width: 300px;\n}\n\n</style>"]}]}