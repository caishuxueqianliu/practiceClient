{"remainingRequest":"/Users/admin/Desktop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/client/src/views/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/client/src/views/Chat.vue","mtime":1597058596794},{"path":"/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0KCJ3czovLzEyNy4wLjAuMTozMDAwL3dlYnNvY2tldC90ZXN0IikKCWV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2hhdCcsCiAgZGF0YSgpewogIHJldHVybnsKICAgLy8gdGltZToiIiwKICBsaXN0OltdLAogICBkYXRhOiIiCiAgfQogIH0sCiAgY29tcG9uZW50czogewogICAKICB9LAogICBjcmVhdGVkKCl7CgogICAgfSwKICAgbW91bnRlZCgpewovLyB0aGlzLndzQ29ubmVjdCgpOyAKICAgIH0sCiAgICBtZXRob2RzOnsKICAgIHdzQ29ubmVjdCgpewoKLy8g5Yib5bu65LiA5Liqd2ViU29ja2V05a+56LGhCgp3cy5vbm9wZW4gPSgpPT4gewogIC8vIOi/nuaOpeWQjuebkeWQrAogIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQg6L+e5o6l54q25oCB5oiQ5YqfJyk7Cn0KCndzLm9ubWVzc2FnZT0oZGF0YSk9PnsKICAvL2NvbnNvbGUubG9nKGRhdGEuZGF0YSkKICAvLyDlvZPmnI3liqHnq6/ov5Tlm57mlbDmja7nmoTml7blgJnvvIzmlL7liLDpobXpnaLph4wKLy8gdmFyIHh4PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNlaXZlLWJveCcpOwovLyB4eC5pbm5lckhUTUwgKz0gYDxwPiR7ZGF0YS5kYXRhfTwvcD5gCi8vICAgeHguc2Nyb2xsVG8oewovLyAgICAgdG9wOiB4eC5zY3JvbGxIZWlnaHQsCi8vICAgICBiZWhhdmlvcjogInNtb290aCIKLy8gICB9KQoKICB0aGlzLmxpc3QucHVzaChkYXRhLmRhdGEpOwogICAgICAKfQoKd3Mub25jbG9zZSA9IGRhdGEgPT4gewogIC8vIOebkeWQrOi/nuaOpeWFs+mXrQogIGNvbnNvbGUubG9nKCJXZWJTb2NrZXTov57mjqXlt7LlhbPpl60iKQogIGNvbnNvbGUubG9nKGRhdGEpOwp9CgovLyBzZW5kQnRuLm9uY2xpY2sgPSAoKSA9PiB7Ci8vICAgLy8g54K55Ye75Y+R6YCB5oyJ6ZKu44CC5bCG5pWw5o2u5Y+R6YCB57uZ5pyN5Yqh56uvCi8vICAgd3Muc2VuZCgpCi8vIH0KLy8gZXhpdC5vbmNsaWNrID0gKCkgPT4gewovLyAgIC8vIOWuouaIt+err+S4u+WKqOWFs+mXrei/nuaOpQovLyAgIHdzLmNsb3NlKCkKLy8gfQoKCgoKICAgIH0sCiAgICBzZW5kKCl7CiAgICAgIHdzLnNlbmQodGhpcy5kYXRhKTsKICAgIH0sCiAgICB0ZXN0KCl7CiAgICAgIHRoaXMubXNnPScxMjMzMzMnCiAgICB9CiAgICAKICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgfQp9CgoKCgo="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"chat\">\n\n\n\n<div class=\"websocket\">\n    <div class=\"receive\">\n      <p>简单聊天</p>\n      <div id=\"receive-box\"  v-for=\"(item,i) in list\" v-bind:key=\"i\">{{item}}</div>\n    </div>\n    <div class=\"send\">\n      <textarea type=\"text\" id=\"msg-need-send\" v-model=\"data\"></textarea>\n      <p>\n        <button id=\"send-btn\" @click='send()'>点击消息</button>\n      </p>\n    </div>\n  <!--   <button id=\"exit\" @click='test()'>关闭连接</button> -->\n  </div>\n\n\n\n  </div>\n</template>\n\n<script>\n  const ws = new WebSocket(\"ws://127.0.0.1:3000/websocket/test\")\n\texport default {\n  name: 'Chat',\n  data(){\n  return{\n   // time:\"\",\n  list:[],\n   data:\"\"\n  }\n  },\n  components: {\n   \n  },\n   created(){\n\n    },\n   mounted(){\n// this.wsConnect(); \n    },\n    methods:{\n    wsConnect(){\n\n// 创建一个webSocket对象\n\nws.onopen =()=> {\n  // 连接后监听\n  console.log('WebSocket 连接状态成功');\n}\n\nws.onmessage=(data)=>{\n  //console.log(data.data)\n  // 当服务端返回数据的时候，放到页面里\n// var xx=document.getElementById('receive-box');\n// xx.innerHTML += `<p>${data.data}</p>`\n//   xx.scrollTo({\n//     top: xx.scrollHeight,\n//     behavior: \"smooth\"\n//   })\n\n  this.list.push(data.data);\n      \n}\n\nws.onclose = data => {\n  // 监听连接关闭\n  console.log(\"WebSocket连接已关闭\")\n  console.log(data);\n}\n\n// sendBtn.onclick = () => {\n//   // 点击发送按钮。将数据发送给服务端\n//   ws.send()\n// }\n// exit.onclick = () => {\n//   // 客户端主动关闭连接\n//   ws.close()\n// }\n\n\n\n\n    },\n    send(){\n      ws.send(this.data);\n    },\n    test(){\n      this.msg='123333'\n    }\n    \n    },\n    watch:{\n       },\n    computed:{\n    }\n}\n\n\n\n\n</script>\n\n\n<style type=\"text/css\">\n  #receive-box{\n    height: 20px;\n    width: 100px;\n    display: flex;\n\n    border: 1px solid black;\n    margin: 5px;\n  }\n#msg-need-send{\n  margin: 20px;\n  width: 300px;\n}\n\n</style>"]}]}