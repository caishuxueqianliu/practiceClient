{"remainingRequest":"/Users/admin/Desktop/client/node_modules/thread-loader/dist/cjs.js!/Users/admin/Desktop/client/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/client/src/views/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/client/src/views/Chat.vue","mtime":1597058596794},{"path":"/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIHdzID0gbmV3IFdlYlNvY2tldCgid3M6Ly8xMjcuMC4wLjE6MzAwMC93ZWJzb2NrZXQvdGVzdCIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyB0aW1lOiIiLAogICAgICBsaXN0OiBbXSwKICAgICAgZGF0YTogIiIKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsvLyB0aGlzLndzQ29ubmVjdCgpOyAKICB9LAogIG1ldGhvZHM6IHsKICAgIHdzQ29ubmVjdDogZnVuY3Rpb24gd3NDb25uZWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g5Yib5bu65LiA5Liqd2ViU29ja2V05a+56LGhCiAgICAgIHdzLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDov57mjqXlkI7nm5HlkKwKICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IOi/nuaOpeeKtuaAgeaIkOWKnycpOwogICAgICB9OwoKICAgICAgd3Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEuZGF0YSkKICAgICAgICAvLyDlvZPmnI3liqHnq6/ov5Tlm57mlbDmja7nmoTml7blgJnvvIzmlL7liLDpobXpnaLph4wKICAgICAgICAvLyB2YXIgeHg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2VpdmUtYm94Jyk7CiAgICAgICAgLy8geHguaW5uZXJIVE1MICs9IGA8cD4ke2RhdGEuZGF0YX08L3A+YAogICAgICAgIC8vICAgeHguc2Nyb2xsVG8oewogICAgICAgIC8vICAgICB0b3A6IHh4LnNjcm9sbEhlaWdodCwKICAgICAgICAvLyAgICAgYmVoYXZpb3I6ICJzbW9vdGgiCiAgICAgICAgLy8gICB9KQogICAgICAgIF90aGlzLmxpc3QucHVzaChkYXRhLmRhdGEpOwogICAgICB9OwoKICAgICAgd3Mub25jbG9zZSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy8g55uR5ZCs6L+e5o6l5YWz6ZetCiAgICAgICAgY29uc29sZS5sb2coIldlYlNvY2tldOi/nuaOpeW3suWFs+mXrSIpOwogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB9OyAvLyBzZW5kQnRuLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgIC8vICAgLy8g54K55Ye75Y+R6YCB5oyJ6ZKu44CC5bCG5pWw5o2u5Y+R6YCB57uZ5pyN5Yqh56uvCiAgICAgIC8vICAgd3Muc2VuZCgpCiAgICAgIC8vIH0KICAgICAgLy8gZXhpdC5vbmNsaWNrID0gKCkgPT4gewogICAgICAvLyAgIC8vIOWuouaIt+err+S4u+WKqOWFs+mXrei/nuaOpQogICAgICAvLyAgIHdzLmNsb3NlKCkKICAgICAgLy8gfQoKICAgIH0sCiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKCkgewogICAgICB3cy5zZW5kKHRoaXMuZGF0YSk7CiAgICB9LAogICAgdGVzdDogZnVuY3Rpb24gdGVzdCgpIHsKICAgICAgdGhpcy5tc2cgPSAnMTIzMzMzJzsKICAgIH0KICB9LAogIHdhdGNoOiB7fSwKICBjb21wdXRlZDoge30KfTs="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,IAAA,EAAA,GAAA,IAAA,SAAA,CAAA,oCAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,UAAA,EAAA,EATA;AAYA,EAAA,OAZA,qBAYA,CAEA,CAdA;AAeA,EAAA,OAfA,qBAeA,CACA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAEA;AAEA,MAAA,EAAA,CAAA,MAAA,GAAA,YAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,OAHA;;AAKA,MAAA,EAAA,CAAA,SAAA,GAAA,UAAA,IAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AAEA,OAZA;;AAcA,MAAA,EAAA,CAAA,OAAA,GAAA,UAAA,IAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAJA,CAvBA,CA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA,KA1CA;AA2CA,IAAA,IA3CA,kBA2CA;AACA,MAAA,EAAA,CAAA,IAAA,CAAA,KAAA,IAAA;AACA,KA7CA;AA8CA,IAAA,IA9CA,kBA8CA;AACA,WAAA,GAAA,GAAA,QAAA;AACA;AAhDA,GAlBA;AAqEA,EAAA,KAAA,EAAA,EArEA;AAuEA,EAAA,QAAA,EAAA;AAvEA,CAAA","sourcesContent":["<template>\n  <div class=\"chat\">\n\n\n\n<div class=\"websocket\">\n    <div class=\"receive\">\n      <p>简单聊天</p>\n      <div id=\"receive-box\"  v-for=\"(item,i) in list\" v-bind:key=\"i\">{{item}}</div>\n    </div>\n    <div class=\"send\">\n      <textarea type=\"text\" id=\"msg-need-send\" v-model=\"data\"></textarea>\n      <p>\n        <button id=\"send-btn\" @click='send()'>点击消息</button>\n      </p>\n    </div>\n  <!--   <button id=\"exit\" @click='test()'>关闭连接</button> -->\n  </div>\n\n\n\n  </div>\n</template>\n\n<script>\n  const ws = new WebSocket(\"ws://127.0.0.1:3000/websocket/test\")\n\texport default {\n  name: 'Chat',\n  data(){\n  return{\n   // time:\"\",\n  list:[],\n   data:\"\"\n  }\n  },\n  components: {\n   \n  },\n   created(){\n\n    },\n   mounted(){\n// this.wsConnect(); \n    },\n    methods:{\n    wsConnect(){\n\n// 创建一个webSocket对象\n\nws.onopen =()=> {\n  // 连接后监听\n  console.log('WebSocket 连接状态成功');\n}\n\nws.onmessage=(data)=>{\n  //console.log(data.data)\n  // 当服务端返回数据的时候，放到页面里\n// var xx=document.getElementById('receive-box');\n// xx.innerHTML += `<p>${data.data}</p>`\n//   xx.scrollTo({\n//     top: xx.scrollHeight,\n//     behavior: \"smooth\"\n//   })\n\n  this.list.push(data.data);\n      \n}\n\nws.onclose = data => {\n  // 监听连接关闭\n  console.log(\"WebSocket连接已关闭\")\n  console.log(data);\n}\n\n// sendBtn.onclick = () => {\n//   // 点击发送按钮。将数据发送给服务端\n//   ws.send()\n// }\n// exit.onclick = () => {\n//   // 客户端主动关闭连接\n//   ws.close()\n// }\n\n\n\n\n    },\n    send(){\n      ws.send(this.data);\n    },\n    test(){\n      this.msg='123333'\n    }\n    \n    },\n    watch:{\n       },\n    computed:{\n    }\n}\n\n\n\n\n</script>\n\n\n<style type=\"text/css\">\n  #receive-box{\n    height: 20px;\n    width: 100px;\n    display: flex;\n\n    border: 1px solid black;\n    margin: 5px;\n  }\n#msg-need-send{\n  margin: 20px;\n  width: 300px;\n}\n\n</style>"],"sourceRoot":"src/views"}]}