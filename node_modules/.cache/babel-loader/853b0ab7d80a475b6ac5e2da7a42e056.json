{"remainingRequest":"/Users/admin/Documents/mac备份/client/node_modules/babel-loader/lib/index.js!/Users/admin/Documents/mac备份/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Documents/mac备份/client/src/views/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Documents/mac备份/client/src/views/Chat.vue","mtime":1596802838147},{"path":"/Users/admin/Documents/mac备份/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Documents/mac备份/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIHdzID0gbmV3IFdlYlNvY2tldCgid3M6Ly8xMjcuMC4wLjE6MzAwMC93ZWJzb2NrZXQvdGVzdCIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyB0aW1lOiIiLAogICAgICBsaXN0OiBbXSwKICAgICAgZGF0YTogIiIKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMud3NDb25uZWN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB3c0Nvbm5lY3Q6IGZ1bmN0aW9uIHdzQ29ubmVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIOWIm+W7uuS4gOS4qndlYlNvY2tldOWvueixoQogICAgICB3cy5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g6L+e5o6l5ZCO55uR5ZCsCiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCDov57mjqXnirbmgIHmiJDlip8nKTsKICAgICAgfTsKCiAgICAgIHdzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhLmRhdGEpCiAgICAgICAgLy8g5b2T5pyN5Yqh56uv6L+U5Zue5pWw5o2u55qE5pe25YCZ77yM5pS+5Yiw6aG16Z2i6YeMCiAgICAgICAgLy8gdmFyIHh4PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNlaXZlLWJveCcpOwogICAgICAgIC8vIHh4LmlubmVySFRNTCArPSBgPHA+JHtkYXRhLmRhdGF9PC9wPmAKICAgICAgICAvLyAgIHh4LnNjcm9sbFRvKHsKICAgICAgICAvLyAgICAgdG9wOiB4eC5zY3JvbGxIZWlnaHQsCiAgICAgICAgLy8gICAgIGJlaGF2aW9yOiAic21vb3RoIgogICAgICAgIC8vICAgfSkKICAgICAgICBfdGhpcy5saXN0LnB1c2goZGF0YS5kYXRhKTsKICAgICAgfTsKCiAgICAgIHdzLm9uY2xvc2UgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIC8vIOebkeWQrOi/nuaOpeWFs+mXrQogICAgICAgIGNvbnNvbGUubG9nKCJXZWJTb2NrZXTov57mjqXlt7LlhbPpl60iKTsKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgfTsgLy8gc2VuZEJ0bi5vbmNsaWNrID0gKCkgPT4gewogICAgICAvLyAgIC8vIOeCueWHu+WPkemAgeaMiemSruOAguWwhuaVsOaNruWPkemAgee7meacjeWKoeerrwogICAgICAvLyAgIHdzLnNlbmQoKQogICAgICAvLyB9CiAgICAgIC8vIGV4aXQub25jbGljayA9ICgpID0+IHsKICAgICAgLy8gICAvLyDlrqLmiLfnq6/kuLvliqjlhbPpl63ov57mjqUKICAgICAgLy8gICB3cy5jbG9zZSgpCiAgICAgIC8vIH0KCiAgICB9LAogICAgc2VuZDogZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgd3Muc2VuZCh0aGlzLmRhdGEpOwogICAgfSwKICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3QoKSB7CiAgICAgIHRoaXMubXNnID0gJzEyMzMzMyc7CiAgICB9CiAgfSwKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHt9Cn07"},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,IAAA,EAAA,GAAA,IAAA,SAAA,CAAA,oCAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,UAAA,EAAA,EATA;AAYA,EAAA,OAZA,qBAYA,CAEA,CAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,SAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAEA;AAEA,MAAA,EAAA,CAAA,MAAA,GAAA,YAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,OAHA;;AAKA,MAAA,EAAA,CAAA,SAAA,GAAA,UAAA,IAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AAEA,OAZA;;AAcA,MAAA,EAAA,CAAA,OAAA,GAAA,UAAA,IAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAJA,CAvBA,CA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA,KA1CA;AA2CA,IAAA,IA3CA,kBA2CA;AACA,MAAA,EAAA,CAAA,IAAA,CAAA,KAAA,IAAA;AACA,KA7CA;AA8CA,IAAA,IA9CA,kBA8CA;AACA,WAAA,GAAA,GAAA,QAAA;AACA;AAhDA,GAlBA;AAqEA,EAAA,KAAA,EAAA,EArEA;AAuEA,EAAA,QAAA,EAAA;AAvEA,CAAA","sourcesContent":["<template>\n  <div class=\"chat\">\n\n\n\n<div class=\"websocket\">\n    <div class=\"receive\">\n      <p>简单聊天</p>\n      <div id=\"receive-box\"  v-for=\"(item,i) in list\" v-bind:key=\"i\">{{item}}</div>\n    </div>\n    <div class=\"send\">\n      <textarea type=\"text\" id=\"msg-need-send\" v-model=\"data\"></textarea>\n      <p>\n        <button id=\"send-btn\" @click='send()'>点击消息</button>\n      </p>\n    </div>\n  <!--   <button id=\"exit\" @click='test()'>关闭连接</button> -->\n  </div>\n\n\n\n  </div>\n</template>\n\n<script>\n  const ws = new WebSocket(\"ws://127.0.0.1:3000/websocket/test\")\n\texport default {\n  name: 'Chat',\n  data(){\n  return{\n   // time:\"\",\n  list:[],\n   data:\"\"\n  }\n  },\n  components: {\n   \n  },\n   created(){\n\n    },\n   mounted(){\n this.wsConnect(); \n    },\n    methods:{\n    wsConnect(){\n\n// 创建一个webSocket对象\n\nws.onopen =()=> {\n  // 连接后监听\n  console.log('WebSocket 连接状态成功');\n}\n\nws.onmessage=(data)=>{\n  //console.log(data.data)\n  // 当服务端返回数据的时候，放到页面里\n// var xx=document.getElementById('receive-box');\n// xx.innerHTML += `<p>${data.data}</p>`\n//   xx.scrollTo({\n//     top: xx.scrollHeight,\n//     behavior: \"smooth\"\n//   })\n\n  this.list.push(data.data);\n      \n}\n\nws.onclose = data => {\n  // 监听连接关闭\n  console.log(\"WebSocket连接已关闭\")\n  console.log(data);\n}\n\n// sendBtn.onclick = () => {\n//   // 点击发送按钮。将数据发送给服务端\n//   ws.send()\n// }\n// exit.onclick = () => {\n//   // 客户端主动关闭连接\n//   ws.close()\n// }\n\n\n\n\n    },\n    send(){\n      ws.send(this.data);\n    },\n    test(){\n      this.msg='123333'\n    }\n    \n    },\n    watch:{\n       },\n    computed:{\n    }\n}\n\n\n\n\n</script>\n\n\n<style type=\"text/css\">\n  #receive-box{\n    height: 20px;\n    width: 100px;\n    display: flex;\n\n    border: 1px solid black;\n    margin: 5px;\n  }\n#msg-need-send{\n  margin: 20px;\n  width: 300px;\n}\n\n</style>"],"sourceRoot":"src/views"}]}