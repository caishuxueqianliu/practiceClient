{"remainingRequest":"/Users/admin/Desktop/client/node_modules/thread-loader/dist/cjs.js!/Users/admin/Desktop/client/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/client/src/views/About.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/client/src/views/About.vue","mtime":1597053258280},{"path":"/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBYm91dCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vdGhpcy53c0Nvbm5lY3QoKTsgIAogIH0sCiAgbWV0aG9kczogewogICAgd3NDb25uZWN0OiBmdW5jdGlvbiB3c0Nvbm5lY3QoKSB7CiAgICAgIHZhciBtc2dCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibXNnLW5lZWQtc2VuZCIpOwogICAgICB2YXIgc2VuZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZW5kLWJ0biIpOwogICAgICB2YXIgZXhpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGl0Iik7CiAgICAgIHZhciByZWNlaXZlQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VpdmUtYm94Iik7IC8vIOWIm+W7uuS4gOS4qndlYlNvY2tldOWvueixoQoKICAgICAgdmFyIHdzID0gbmV3IFdlYlNvY2tldCgid3M6Ly8xMjcuMC4wLjE6MzAwMC93ZWJzb2NrZXQvdGVzdCIpOwoKICAgICAgd3Mub25vcGVuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAvLyDov57mjqXlkI7nm5HlkKwKICAgICAgICBjb25zb2xlLmxvZygiV2ViU29ja2V0IFx1OEZERVx1NjNBNVx1NzJCNlx1NjAwMVx1RkYxQSAiLmNvbmNhdCh3cy5yZWFkeVN0YXRlKSArIGUpOwogICAgICB9OwoKICAgICAgd3Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAvLyDlvZPmnI3liqHnq6/ov5Tlm57mlbDmja7nmoTml7blgJnvvIzmlL7liLDpobXpnaLph4wKICAgICAgICByZWNlaXZlQm94LmlubmVySFRNTCA9ICI8cD4iLmNvbmNhdChkYXRhLmRhdGEsICI8L3A+Iik7CiAgICAgICAgcmVjZWl2ZUJveC5zY3JvbGxUbyh7CiAgICAgICAgICB0b3A6IHJlY2VpdmVCb3guc2Nyb2xsSGVpZ2h0LAogICAgICAgICAgYmVoYXZpb3I6ICJzbW9vdGgiCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB3cy5vbmNsb3NlID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAvLyDnm5HlkKzov57mjqXlhbPpl60KICAgICAgICBjb25zb2xlLmxvZygiV2ViU29ja2V06L+e5o6l5bey5YWz6ZetIik7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIH07CgogICAgICBzZW5kQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g54K55Ye75Y+R6YCB5oyJ6ZKu44CC5bCG5pWw5o2u5Y+R6YCB57uZ5pyN5Yqh56uvCiAgICAgICAgd3Muc2VuZChtc2dCb3gudmFsdWUpOwogICAgICB9OwoKICAgICAgZXhpdC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOWuouaIt+err+S4u+WKqOWFs+mXrei/nuaOpQogICAgICAgIHdzLmNsb3NlKCk7CiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHt9Cn07"},{"version":3,"sources":["About.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA,EAAA;AAGA,GANA;AAOA,EAAA,UAAA,EAAA,EAPA;AAUA,EAAA,OAVA,qBAUA,CAEA,CAZA;AAaA,EAAA,OAbA,qBAaA,CACA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAEA,UAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,eAAA,CAAA;AACA,UAAA,OAAA,GAAA,QAAA,CAAA,cAAA,CAAA,UAAA,CAAA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,cAAA,CAAA,MAAA,CAAA;AACA,UAAA,UAAA,GAAA,QAAA,CAAA,cAAA,CAAA,aAAA,CAAA,CALA,CAOA;;AACA,UAAA,EAAA,GAAA,IAAA,SAAA,CAAA,oCAAA,CAAA;;AACA,MAAA,EAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,mDAAA,EAAA,CAAA,UAAA,IAAA,CAAA;AAEA,OAJA;;AAMA,MAAA,EAAA,CAAA,SAAA,GAAA,UAAA,IAAA,EAAA;AACA;AACA,QAAA,UAAA,CAAA,SAAA,gBAAA,IAAA,CAAA,IAAA;AACA,QAAA,UAAA,CAAA,QAAA,CAAA;AACA,UAAA,GAAA,EAAA,UAAA,CAAA,YADA;AAEA,UAAA,QAAA,EAAA;AAFA,SAAA;AAIA,OAPA;;AASA,MAAA,EAAA,CAAA,OAAA,GAAA,UAAA,IAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAJA;;AAMA,MAAA,OAAA,CAAA,OAAA,GAAA,YAAA;AACA;AACA,QAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA;AACA,OAHA;;AAIA,MAAA,IAAA,CAAA,OAAA,GAAA,YAAA;AACA;AACA,QAAA,EAAA,CAAA,KAAA;AACA,OAHA;AAQA;AA3CA,GAhBA;AA8DA,EAAA,KAAA,EAAA,EA9DA;AAgEA,EAAA,QAAA,EAAA;AAhEA,CAAA","sourcesContent":["<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n\n\n<div class=\"websocket\">\n    <div class=\"receive\">\n      <p>服务端返回的消息</p>\n      <div id=\"receive-box\"></div>\n    </div>\n    <div class=\"send\">\n      <textarea type=\"text\" id=\"msg-need-send\"></textarea>\n      <p>\n        <button id=\"send-btn\">点击发消息给服务端</button>\n      </p>\n    </div>\n    <button id=\"exit\">关闭连接</button>\n  </div>\n\n\n\n  </div>\n</template>\n\n<script>\n\texport default {\n  name: 'About',\n  data(){\n  return{\n  \n  }\n  },\n  components: {\n   \n  },\n   created(){\n\n    },\n   mounted(){\n//this.wsConnect();  \n    },\n    methods:{\n    wsConnect(){\n\nconst msgBox = document.getElementById(\"msg-need-send\")\nconst sendBtn = document.getElementById(\"send-btn\")\nconst exit = document.getElementById(\"exit\")\nconst receiveBox = document.getElementById(\"receive-box\")\n\n// 创建一个webSocket对象\nconst ws = new WebSocket(\"ws://127.0.0.1:3000/websocket/test\")\nws.onopen = e => {\n  // 连接后监听\n  console.log(`WebSocket 连接状态： ${ws.readyState}`+e)\n\n}\n\nws.onmessage = data => {\n  // 当服务端返回数据的时候，放到页面里\n  receiveBox.innerHTML = `<p>${data.data}</p>`\n  receiveBox.scrollTo({\n    top: receiveBox.scrollHeight,\n    behavior: \"smooth\"\n  })\n}\n\nws.onclose = data => {\n  // 监听连接关闭\n  console.log(\"WebSocket连接已关闭\")\n  console.log(data);\n}\n\nsendBtn.onclick = () => {\n  // 点击发送按钮。将数据发送给服务端\n  ws.send(msgBox.value)\n}\nexit.onclick = () => {\n  // 客户端主动关闭连接\n  ws.close()\n}\n\n\n\n\n    }\n    \n    },\n    watch:{\n       },\n    computed:{\n    }\n}\n\n\n\n\n</script>"],"sourceRoot":"src/views"}]}